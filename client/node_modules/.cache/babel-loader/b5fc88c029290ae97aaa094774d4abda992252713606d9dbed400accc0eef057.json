{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductForm=_ref=>{let{product,onSubmit,onCancel}=_ref;const[formData,setFormData]=useState({name:'',description:'',originalPrice:'',salePrice:'',affiliateLink:'',category:'',image:null});const[previewImage,setPreviewImage]=useState(null);useEffect(()=>{if(product){setFormData({name:product.name||'',description:product.description||'',originalPrice:product.originalPrice||'',salePrice:product.salePrice||'',affiliateLink:product.affiliateLink||'',category:product.category||'',image:null});if(product.image){setPreviewImage(`http://localhost:5000${product.image}`);}}},[product]);const handleChange=e=>{const{name,value,files}=e.target;if(name==='image'&&files[0]){setFormData(prev=>({...prev,image:files[0]}));setPreviewImage(URL.createObjectURL(files[0]));}else{setFormData(prev=>({...prev,[name]:value}));}};const handleSubmit=e=>{e.preventDefault();onSubmit(formData);};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product?'Editar Produto':'Adicionar Novo Produto'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Nome do Produto *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,className:\"form-input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Descri\\xE7\\xE3o *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange,className:\"form-input form-textarea\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Pre\\xE7o Original *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"originalPrice\",value:formData.originalPrice,onChange:handleChange,className:\"form-input\",step:\"0.01\",min:\"0\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Pre\\xE7o de Venda *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"salePrice\",value:formData.salePrice,onChange:handleChange,className:\"form-input\",step:\"0.01\",min:\"0\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Link de Afiliado *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"affiliateLink\",value:formData.affiliateLink,onChange:handleChange,className:\"form-input\",placeholder:\"https://exemplo.com/produto\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Categoria\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",value:formData.category,onChange:handleChange,className:\"form-input\",placeholder:\"Ex: Eletr\\xF4nicos, Moda, Casa...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Imagem do Produto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",onChange:handleChange,className:\"form-input\",accept:\"image/*\"}),previewImage&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:/*#__PURE__*/_jsx(\"img\",{src:previewImage,alt:\"Preview\",style:{maxWidth:'200px',maxHeight:'200px',objectFit:'cover',borderRadius:'5px'}})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:product?'Atualizar Produto':'Adicionar Produto'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"btn btn-warning\",children:\"Cancelar\"})]})]})]});};export default ProductForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ProductForm","_ref","product","onSubmit","onCancel","formData","setFormData","name","description","originalPrice","salePrice","affiliateLink","category","image","previewImage","setPreviewImage","handleChange","e","value","files","target","prev","URL","createObjectURL","handleSubmit","preventDefault","className","children","type","onChange","required","style","display","gridTemplateColumns","gap","step","min","placeholder","accept","marginTop","src","alt","maxWidth","maxHeight","objectFit","borderRadius","onClick"],"sources":["C:/Users/ivangomesdasilvasodr/Desktop/afiliados-site/client/src/components/ProductForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst ProductForm = ({ product, onSubmit, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    originalPrice: '',\r\n    salePrice: '',\r\n    affiliateLink: '',\r\n    category: '',\r\n    image: null\r\n  });\r\n\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (product) {\r\n      setFormData({\r\n        name: product.name || '',\r\n        description: product.description || '',\r\n        originalPrice: product.originalPrice || '',\r\n        salePrice: product.salePrice || '',\r\n        affiliateLink: product.affiliateLink || '',\r\n        category: product.category || '',\r\n        image: null\r\n      });\r\n      if (product.image) {\r\n        setPreviewImage(`http://localhost:5000${product.image}`);\r\n      }\r\n    }\r\n  }, [product]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    \r\n    if (name === 'image' && files[0]) {\r\n      setFormData(prev => ({ ...prev, image: files[0] }));\r\n      setPreviewImage(URL.createObjectURL(files[0]));\r\n    } else {\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(formData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h2>{product ? 'Editar Produto' : 'Adicionar Novo Produto'}</h2>\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Nome do Produto *</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n            className=\"form-input\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Descrição *</label>\r\n          <textarea\r\n            name=\"description\"\r\n            value={formData.description}\r\n            onChange={handleChange}\r\n            className=\"form-input form-textarea\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Preço Original *</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"originalPrice\"\r\n              value={formData.originalPrice}\r\n              onChange={handleChange}\r\n              className=\"form-input\"\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">Preço de Venda *</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"salePrice\"\r\n              value={formData.salePrice}\r\n              onChange={handleChange}\r\n              className=\"form-input\"\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Link de Afiliado *</label>\r\n          <input\r\n            type=\"url\"\r\n            name=\"affiliateLink\"\r\n            value={formData.affiliateLink}\r\n            onChange={handleChange}\r\n            className=\"form-input\"\r\n            placeholder=\"https://exemplo.com/produto\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Categoria</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"category\"\r\n            value={formData.category}\r\n            onChange={handleChange}\r\n            className=\"form-input\"\r\n            placeholder=\"Ex: Eletrônicos, Moda, Casa...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"form-label\">Imagem do Produto</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            onChange={handleChange}\r\n            className=\"form-input\"\r\n            accept=\"image/*\"\r\n          />\r\n          {previewImage && (\r\n            <div style={{ marginTop: '1rem' }}>\r\n              <img \r\n                src={previewImage} \r\n                alt=\"Preview\" \r\n                style={{ \r\n                  maxWidth: '200px', \r\n                  maxHeight: '200px', \r\n                  objectFit: 'cover',\r\n                  borderRadius: '5px'\r\n                }} \r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div style={{ display: 'flex', gap: '1rem', marginTop: '2rem' }}>\r\n          <button type=\"submit\" className=\"btn btn-success\">\r\n            {product ? 'Atualizar Produto' : 'Adicionar Produto'}\r\n          </button>\r\n          <button \r\n            type=\"button\" \r\n            onClick={onCancel}\r\n            className=\"btn btn-warning\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}